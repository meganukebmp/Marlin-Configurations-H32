# Aquila X2 base Configuration

the base configuration for the Voxelab Aquila X2 (H32)



## Changes to `Configuration.h`

| Option                                                                                                                                                                                                                                                         | Explanation                                                                                            |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------ |
| `#define MOTHERBOARD BOARD_AQUILA_X2_H32` | select the aquila X2 motherboard configuration | 
| `#define SERIAL_PORT 2`                                                                                                                                                                                                                                        | configures the Serial Port to the correct one                                                          |
| `#define BAUDRATE 115200`                                                                                                                                                                                                                                      | configures the Serial Port baudrate. higher may be possible, but not tested                            |
| `#define CUSTOM_MACHINE_NAME "Voxlab Aquila X2 H32"` </br> `#define MACHINE_UUID "342b0449-c119-4bed-8329-80d6343ca97a"`                                                                                                                                       | proposed custom machine name and uuid \*                                                               |
| `#define X_DRIVER_TYPE TMC2208_STANDALONE` </br> `#define Y_DRIVER_TYPE TMC2208_STANDALONE` </br> `#define Z_DRIVER_TYPE TMC2208_STANDALONE` </br> `#define E0_DRIVER_TYPE TMC2208_STANDALONE`                                                                 | the voxlab aquila X2 uses TMC2208 stepper drivers                                                      |
| `#define TEMP_SENSOR_BED 1`                                                                                                                                                                                                                                    | tells marlin that the printer has a heated bed with sensor                                             |
| `#define BED_MAXTEMP 120`                                                                                                                                                                                                                                      | maximum bed temperature \*                                                                             |
| `#define DEFAULT_Kp 40.16` </br> `#define DEFAULT_Ki 5.12` </br> `#define DEFAULT_Kd 78.75`                                                                                                                                                                    | default PID configuration for hotend \*                                                                |
| `#define DEFAULT_bedKp 138.64` </br> `#define DEFAULT_bedKi 26.65` </br> `#define DEFAULT_bedKd 480.79`                                                                                                                                                        | default PID configuration for bed \*                                                                   |
| `#define EXTRUDE_MAXLENGTH 1000`                                                                                                                                                                                                                               | the maximum length of a single extrusion. this is about the length of the bowden tube on the aquila X2 |
| `#define Z_MIN_PROBE_ENDSTOP_INVERTING true`                                                                                                                                                                                                                   | inverts the signal of the Z_MIN probe. untested                                                        |
| `#define ENDSTOP_INTERRUPTS_FEATURE`                                                                                                                                                                                                                           | enable interrupts for endstops                                                                         |
| `#define DEFAULT_AXIS_STEPS_PER_UNIT { 80, 80, 400, 93 }`                                                                                                                                                                                                      | axis steps per unit. this matches the aquila X2's default configuration \*                             |
| `#define DEFAULT_MAX_FEEDRATE { 500, 500, 5, 25 }` </br> `#define DEFAULT_MAX_ACCELERATION { 500, 500, 100, 1000 }` </br> `#define DEFAULT_ACCELERATION 500` </br> `#define DEFAULT_RETRACT_ACCELERATION 500` </br> `#define DEFAULT_TRAVEL_ACCELERATION 1000` | default machine limits of the aquila X2 \*                                                             |
| `//#define Z_MIN_PROBE_USES_Z_MIN_ENDSTOP_PIN` </br> `#define USE_PROBE_FOR_Z_HOMING`                                                                                                                                                                          | Z_MIN probe configuration. untested                                                                    |
| `#define NOZZLE_TO_PROBE_OFFSET { -43, -22, 0 }` (bltouch) </br> OR </br> `#define NOZZLE_TO_PROBE_OFFSET { 0, 0, 0 }` (manual probing)                                                                                                                        | Z_MIN probe offset for bltouch and manual probing. may be a good idea to measure this yourself         |
| `#define INVERT_Y_DIR false` </br> `#define INVERT_Z_DIR true`                                                                                                                                                                                                 | dont invert Y axis, and do invert Z axis                                                               |
| `#define X_BED_SIZE 220` </br> `#define Y_BED_SIZE 220` </br >`#define Z_MAX_POS 250`                                                                                                                                                                          | defines bed dimensions                                                                                 |
| `#define FIL_RUNOUT_STATE HIGH`                                                                                                                                                                                                                                | sets the filament runout sensor trip state. needed when `FILAMENT_RUNOUT_SENSOR` is enabled            |
| `#define EEPROM_SETTINGS`                                                                                                                                                                                                                                      | enabled the i2c eeprom of the aquila X2                                                                |
| `#define EEPROM_AUTO_INIT`                                                                                                                                                                                                                                     | auto-reset the eeprom contents on errors \*                                                            |
| `#define NOZZLE_PARK_FEATURE`                                                                                                                                                                                                                                  | enable nozzle parking \*                                                                               |
| `#define SDSUPPORT`                                                                                                                                                                                                                                            | enable support for sd printing from the aquila X2's sdcard slot                                        |
| `#define REVERSE_ENCODER_DIRECTION`                                                                                                                                                                                                                            | reverses the direction of the knob on the LCD                                                          |
| `#define LCD_FEEDBACK_FREQUENCY_DURATION_MS 2` </br> `#define LCD_FEEDBACK_FREQUENCY_HZ 5000`                                                                                                                                                                  | configures the LCD's beeper \*                                                                         |
| One of: </br> `#define DWIN_CREALITY_LCD` </br> `#define DWIN_LCD_PROUI` </br> `#define DWIN_CREALITY_LCD_JYERSUI` </br> `#define DWIN_MARLINUI_PORTRAIT` </br> `#define DWIN_MARLINUI_LANDSCAPE`                                                              | enables the DWIN LCD of the printer. any of these options should work                                  |


## Changes to `Configuration_adv.h`

| Option                                                                                                 | Explanation                                                                                    |
| ------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------- |
| `#define FAN_MIN_PWM 50`                                                                               | sets the minimum pwm level of the cooling fan. below 50, the fan may not start up              |
| `#define QUICK_HOME`                                                                                   | enables quick homing \*                                                                        |
| `#define BLTOUCH_DELAY 500` </br> `#define BLTOUCH_SET_5V_MODE` </br> `#define BLTOUCH_FORCE_MODE_SET` | additional configuration for bltouch. untested                                                 |
| `#define ADAPTIVE_STEP_SMOOTHING`                                                                      | enables step smoothing \*                                                                      |
| `#define POWER_LOSS_RECOVERY`                                                                          | enables power loss recovery feature.                                                           |
| `#define SDCARD_SORT_ALPHA` </br> `#define SDSORT_USES_RAM true`                                       | the H32 has enough SRAM, so sorting using a RAM buffer is fine                                 |
| `#define NO_SD_HOST_DRIVE`                                                                             | the aquila X2's sdcard is connected directly to the SOC. there is no host drive                |
| `#define BABYSTEPPING` </br> `#define BABYSTEP_MULTIPLICATOR_Z 40`                                     | enables baby stepping. the Z multiplicator is default of the aquila X2 and may be ok to change |
| `#define EMERGENCY_PARSER`                                                                             | enables the emergency parser. not required, but highly recommended                             |
| `#define NO_TIMEOUTS 1000`                                                                             | send a 'wait' message every 1s as a keep-alive \*                                              |
| `#define ADVANCED_OK`                                                                                  | enables advanced ok feature \*                                                                 |
| `#define SERIAL_FLOAT_PRECISION 4`                                                                     | sets the precision of floats printed to serial. may be ok to change                            |
| `#define SQUARE_WAVE_STEPPING`                                                                         | enables square wave stepping. may be ok to change                                              |

> \* these options may be adjusted to match your specific machine or needs. the values shown here are safe defaults
